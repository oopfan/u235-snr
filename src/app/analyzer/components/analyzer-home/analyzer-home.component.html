<div class="section">
    <div class="container">
        <h1 class="title is-5">Post-Capture Analyzer</h1>
        <div class="columns is-desktop">
            <div class="column">
                <app-target-picker (notifyChange)="onChangeTarget($event)"></app-target-picker>
            </div>
            <div class="column">
                <app-telescope-picker (notifyChange)="onChangeTelescope($event)"></app-telescope-picker>
            </div>
            <div class="column">
                <app-camera-picker (notifyChange)="onChangeCamera($event)"></app-camera-picker>
            </div>
            <div class="column">
                <app-observatory-picker (notifyChange)="onChangeObservatory($event)"></app-observatory-picker>
            </div>
        </div>
        <div *ngIf="haveTarget() && haveTelescope() && haveCamera() && haveObservatory()">
            <div class="columns is-desktop">
                <div class="column">
                    <app-channel
                        name="Red"
                        filter="R"
                        [exposure]="85.8"
                        [binning]="2"
                        [redBalance]="redBalance"
                        [greenBalance]="greenBalance"
                        [blueBalance]="blueBalance"
                        [target]="target"
                        [targetEvents]="targetSubject.asObservable()"
                        [telescope]="telescope"
                        [telescopeEvents]="telescopeSubject.asObservable()"
                        [camera]="camera"
                        [cameraEvents]="cameraSubject.asObservable()"
                        [observatory]="observatory"
                        [observatoryEvents]="observatorySubject.asObservable()"
                        [colorBalanceEvents]="colorBalanceSubject.asObservable()"
                        (notifyColorBalance)="onColorBalance($event)">
                    </app-channel>
                </div>
                <div class="column">
                    <app-channel
                        name="Green"
                        filter="G"
                        [exposure]="50.2"
                        [binning]="2"
                        [redBalance]="redBalance"
                        [greenBalance]="greenBalance"
                        [blueBalance]="blueBalance"
                        [target]="target"
                        [targetEvents]="targetSubject.asObservable()"
                        [telescope]="telescope"
                        [telescopeEvents]="telescopeSubject.asObservable()"
                        [camera]="camera"
                        [cameraEvents]="cameraSubject.asObservable()"
                        [observatory]="observatory"
                        [observatoryEvents]="observatorySubject.asObservable()"
                        [colorBalanceEvents]="colorBalanceSubject.asObservable()"
                        (notifyColorBalance)="onColorBalance($event)">
                    </app-channel>
                </div>
                <div class="column">
                    <app-channel
                        name="Blue"
                        filter="B"
                        [exposure]="77.8"
                        [binning]="2"
                        [redBalance]="redBalance"
                        [greenBalance]="greenBalance"
                        [blueBalance]="blueBalance"
                        [target]="target"
                        [targetEvents]="targetSubject.asObservable()"
                        [telescope]="telescope"
                        [telescopeEvents]="telescopeSubject.asObservable()"
                        [camera]="camera"
                        [cameraEvents]="cameraSubject.asObservable()"
                        [observatory]="observatory"
                        [observatoryEvents]="observatorySubject.asObservable()"
                        [colorBalanceEvents]="colorBalanceSubject.asObservable()"
                        (notifyColorBalance)="onColorBalance($event)">
                    </app-channel>
                </div>
                <div class="column">
                    <app-channel
                        name="Luminance"
                        filter="L"
                        [exposure]="90"
                        [binning]="1"
                        [redBalance]="redBalance"
                        [greenBalance]="greenBalance"
                        [blueBalance]="blueBalance"
                        [target]="target"
                        [targetEvents]="targetSubject.asObservable()"
                        [telescope]="telescope"
                        [telescopeEvents]="telescopeSubject.asObservable()"
                        [camera]="camera"
                        [cameraEvents]="cameraSubject.asObservable()"
                        [observatory]="observatory"
                        [observatoryEvents]="observatorySubject.asObservable()"
                        [colorBalanceEvents]="colorBalanceSubject.asObservable()"
                        (notifyColorBalance)="onColorBalance($event)">
                    </app-channel>
                </div>
            </div>
        </div>
    </div>
</div>
