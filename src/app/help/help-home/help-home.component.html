<section class="section" *ngIf="section == 'all-sections' || section == 'target'">
    <div class="container">
        <h1 class="title is-4">Target</h1>

        <div class="content">
            <p>
                The term <i>Target</i> is synonymous with <i>Deep Sky Object</i> or <i>DSO</i> but less wordy and cryptic.
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">Name</h2>
        <div class="content">
            <p>
                <i>Name</i> is a free-format field used to give your <i>Target</i> a quick yet meaningful name like
                'M31' or 'Andromeda Galaxy' or 'M31 Andromeda Galaxy'.
            </p>
        </div>

        <h2 class="subtitle is-5">Surface Brightness</h2>
        <div class="content">
            <p>
                Determining the value of <i>Surface Brightness</i> is an art form. I use these three reliable sources:
            </p>
            <p>
                <a href="http://knightware.biz/" target="blank">Deep Sky Planner 7</a> offers Surface Brightness in units
                compatible with our web application (i.e. <i>magnitudes per square arc-second</i>) but the software is Windows-only
                and must be purchased.
            </p>
            <p>
                <a href="https://www.ap-i.net/skychart/en/start" target="blank">Cartes du Ciel (aka SkyChart)</a> also
                offers Surface Brightness. It is freeware planetarium software that provides distributions for
                Linux, Mac, Raspberry Pi, as well as Windows. <b>Note</b>: I recommend using <i>SAC</i> settings, not <i>ONGC</i>.
                Select <i>Setup -> Catalog</i> then click on the <i>CdC deep sky</i> tab. Click the radio button for <i>SAC</i>.
                You will need to <b>add 8.9 to SAC's <i>Surface Brightness</i></b> in order to convert it to the proper units.
            </p>
            <p>
                <a href="http://www.astrosurf.com/c2a/english/index.htm" target="blank">Computer Aided Astronomy (C2A)</a> does not
                offer Surface Brightness but it does give <i>Magnitude</i>, <i>Major Axis</i>, and <i>Minor Axis</i>. You can use
                our built-in <i>Surface Brightness Calculator</i> to calculate it. <i>C2A</i> is freeware planetarium software however
                it is only for Windows.
            </p>
            <p>
                <b>Further Note</b>: All of the aforementioned sources offer <i>Magnitude</i>, <i>Major Axis</i>, and <i>Minor Axis</i>.
                I recommend running those numbers through our <i>Surface Brightness Calculator</i> and then comparing it to the source's
                value. Sometimes they disagree. One option is to take the average but I will leave that up to you whether to be optimistic
                or pessimistic. My only concern is that you will pass up an opportunity because the integration time
                looks too long. If the target is interesting it might be worthwhile to accept a lower SNR image than no image at all.
            </p>
            <p>
                Now to the definition of <i>Surface Brightness</i>. Visualize a galaxy. Its core is the brightest,
                followed by the arms, and then the elusive galactic halo. Now, imagine squeezing all of those photons from all areas
                into a tiny area the size of a single star. (Technically the size is 1 square arc-second.) How bright
                would it be? Surprisingly bright. The Andromeda Galaxy (M31) would be <i>magnitude</i> 3.4 which would make it easily
                visible from the center of most large cities but the fact of the matter is that all of those photons are spread out over
                a very large area, so because of that it is impossible to see M31 from New York City with the naked eye.
            </p>
            <p>
                If the magnitude of M31 is 3.4 then what is its <i>Surface Brightness</i>? To answer that question we need to
                know its dimensions. C2A lists it as 189.1 <i>arc-minutes</i> by 61.7 <i>arc-minutes</i>. Now let's plug those numbers into our
                <i>Surface Brightness Calculator</i>. The answer is 22.2 <i>magnitudes per square arc-second</i>. Remember that this is the
                <i>average</i> brightness over the entire area. Some parts will be brighter but overall it is a good
                measure of how much effort it takes to obtain a world-class image.
            </p>
            <p>
                To explain why the Andromeda Galaxy is not visible without the aid of a telescope from New York City, consider that
                the city's <i>Sky Brightness</i> is around 18 magnitudes per square arc-second. (We'll talk more about that in the
                section on <i>Observatories</i>). Now compare 18 to 22.2. That makes the galaxy 4.2 magnitudes fainter than the sky.
                I'm sorry but you are just not going to see it with the naked eye. You'll need a telescope.
            </p>
            <p>
                Earlier I spoke of <i>Surface Brightness</i> determination as an art form. The problem is that different information
                sources may give you significantly different values for magnitude, major axis, and minor axis depending on what
                criteria they use. I have seen deviations of up to 2 magnitudes per square arc-second. This is huge. I recommend that
                you choose a provider and stick with them. I've recommended three.
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">Surface Brightness Calculator</h2>
        <div class="content">
            <p>
                In case your information provider does not offer <i>Surface Brightness</i> you can use this
                calculator provided that you are given <i>Magnitude</i>, <i>Major Axis</i>, and <i>Minor Axis</i>.
            </p>
            <p>
                Enter the three input values. A blue box will descend
                giving the answer. Use your keyboard and mouse to copy the value and paste it into the <i>Surface Brightness</i> field
                in your target. This copy-and-paste step is important.
            </p>
            <p></p>
        </div>

        <h3 class="subtitle is-6">Magnitude</h3>
        <div class="content">
            <p>
                Magnitude is brightness measured on a logarithmic scale. Negative magnitude is very bright, the Sun is at -25 and the
                Full Moon at -12. Sirius, the brightest star besides our Sun, is magnitude -1.6. At night in the suburbs the faintest
                star you can see with the naked eye is around +5. With a small telescope and eyepiece you can see down to about +12.
                With a small telescope and a camera you can capture stars down to +18. With a large telescope and camera in dark rural
                skies you can see down to magnitude +25, give or take.
            </p>
            <p></p>
        </div>

        <h3 class="subtitle is-6">Major and Minor Axis</h3>
        <div class="content">
            <p>
                By convention an ellipse is used to model a target's shape. An ellipse can be described by two properties: major axis
                and minor axis. It is similar to a rectangle's width and height except that an ellipse has a curved perimeter.
            </p>
            <p>
                The units of measurement are angular, specifically arc-minutes. The Surface Brightness Calculator requires arc-minutes
                so make sure that your information provider is giving you values in arc-minutes. Unless it is spelled out a single
                apostrophe denotes arc-minutes whereas a double apostrophe denotes arc-seconds. Galaxies
                are almost always quoted in arc-minutes but a lot of planetary nebulae are in arc-seconds. Be sure to divide arc-seconds
                by 60 in order to convert it to arc-minutes.
            </p>
            <p></p>
        </div>
</div>
</section>

<section class="section" *ngIf="section == 'all-sections' || section == 'telescope'">
    <div class="container">
        <h1 class="title is-4">Telescope</h1>

        <div class="content">
            <p>
                Telescopes come in all shapes and sizes but each falls into the category of either <i>Refractive</i> or <i>Reflective</i>.
                Refractors use a lens as the primary light gathering element. Reflectors use a mirror.
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">Name</h2>
        <div class="content">
            <p>
                <i>Name</i> is a free-format field used to give your <i>Telescope</i> a quick yet meaningful name like
                'WO 71' or 'William Optics ZenithStar 71' or 'Vixen 81 with 0.67x reducer'.
            </p>
        </div>

        <h2 class="subtitle is-5">Aperture</h2>
        <div class="content">
            <p>
                This is the diameter of the primary lens or mirror measured in millimeters(mm). For example my William Optics refractor's
                aperture is 71mm. Other telescopes may be measured in inches. In those cases multiply inches by 25.4. It's best to refer
                to the manufacturer's datasheet for the exact value.
            </p>
            <p></p>
        </div>
    
        <h2 class="subtitle is-5">Focal Length</h2>
        <div class="content">
            <p>
                Focal length is measured in millimeters(mm). Basically it is the distance between the primary lens or mirror and the focused
                image. Be careful to factor in the effect of addtional refractive elements like a focal reducer or barlow lens. If you added
                a 0.67x focal reducer then multiply 0.67 by the manufacturer's datasheet for focal length. For example if the manufacturer says
                that the telescope's focal length is 616mm then you need to multiply it by 0.67 to get the <i>effective</i> focal length of
                412.7mm.
            </p>
            <p></p>
        </div>
    
        <h2 class="subtitle is-5">Central Obstruction</h2>
        <div class="content">
            <p>
                Almost all reflectors have a central obstruction of one type or the other. Usually there is a small <i>secondary mirror</i>
                that reflects the light 90 degrees to an opening in the telescope tube. Please refer to your manufacturer's datasheet for
                the size of the central obstruction. Note that refractors do not have one but you still need to enter 0.
            </p>
            <p></p>
        </div>
    
        <h2 class="subtitle is-5">Total Reflectance/Transmittance</h2>
        <div class="content">
            <p>
                This is a measure of the total optical efficiency of the telescope. Values from 0 to 1 are acceptable. A value of 1 is
                <i>ideal</i> but in reality there are always some losses. If you have multiple elements like a primary and secondary mirror
                then you need to multiply them. For example if the primary mirror is 99% efficient and the secondary is 98% efficient then
                calculate 0.99 times 0.98. You should enter the value of 0.97 in this field. I recommend not fretting over the exact value.
                I use 0.99.
            </p>
            <p></p>
        </div>
    </div>
</section>

<section class="section" *ngIf="section == 'all-sections' || section == 'camera'">
    <div class="container">
        <h1 class="title is-4">Camera</h1>

        <div class="content">
            <p>
                Cameras have four essential properties that must be filled in before proceeding to the <i>Calculate!</i> tool.
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">Name</h2>
        <div class="content">
            <p>
                <i>Name</i> is a free-format field used to give your <i>Camera</i> a quick yet meaningful name like
                'Atik 314E' or 'ZWO ASI1600MM G300 -10C'.
            </p>
        </div>

        <h2 class="subtitle is-5">Pixel Size</h2>
        <div class="content">
            <p>
                Pixel Size is measured in microns which is one-thousandth of a millimeter, abbreviated <i>um</i>. CMOS cameras generally have smaller
                pixel sizes than do CCD cameras. 2 microns to 10 microns is not uncommon.
            </p>
            <p>
                Many cameras have square pixels but some have rectangular ones. Our <i>Pixel Size</i> property assumes a square pixel. If yours is
                rectangular, say for example 3um x 4um, then you need to run a simple calculation: <i>SQRT(width * height)</i>. So in our example you
                will calculate <i>SQRT(3 * 4)</i> which is 3.464. That is the value you should enter.
            </p>
            <p></p>
        </div>
    
        <h2 class="subtitle is-5">Read Noise</h2>
        <div class="content">
            <p>
                <i>Read Noise</i> is the amount of electronic noise added to an image after you read it from of the camera. It is measured in
                units of electrons (e-). Please refer to the manufacturer's datasheet. CMOS cameras generally have lower Read Noise than CCDs.
            </p>
            <p></p>
        </div>
    
        <h2 class="subtitle is-5">Dark Current</h2>
        <div class="content">
            <p>
                <i>Dark Current</i> is affected by the temperature of your camera's sensor. The higher the temperature the greater the current
                and consequently the noise. In an ideal world our camera is unaffected by temperature but to get close to ideal we must cool the
                sensor. Cameras that are designed for deep-sky astrophotography come with thermo-electric coolers that lower the sensor's
                temperature by nearly 40 degrees Celsius. Dark current at that temperature is virtually zero. If your camera's manufacturer has
                data on dark current then use it but if not feel free to enter zero in this field.
            </p>
            <p></p>
        </div>
    
        <h2 class="subtitle is-5">Quantum Efficiency</h2>
        <div class="content">
            <p>
                The primary job of your camera's sensor is to convert photons to electrons. If your camera can convert one photon to one electron
                then it is said to have 100% <i>Quantum Efficiency</i>. Reality is a different story. Most cameras have far less than 100%
                efficiency. My camera has a pitiful 43% efficiency. As always refer to the manufacturer's datasheet. If you are unsure then enter
                50 in this field.
            </p>
            <p></p>
        </div>
    </div>
</section>

<section class="section" *ngIf="section == 'all-sections' || section == 'observatory'">
    <div class="container">
        <h1 class="title is-4">Observatory</h1>

        <div class="content">
            <p>
                <i>Observatory</i> is a fancy way of saying this is where I set up my telescope. You may have a physical structure or you may be
                a traveler. Either way your seeing conditions are different.
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">Name</h2>
        <div class="content">
            <p>
                <i>Name</i> is a free-format field used to give your <i>Observatory</i> a quick yet meaningful name like
                'Home' or 'Mountain retreat' or 'Bortle 4'.
            </p>
        </div>

        <h2 class="subtitle is-5">Bortle Class</h2>
        <div class="content">
            <p>
                The Bortle class system ranks nighttime skies on a scale from 1 to 9. Bortle class 1 is the darkest possible site usually taken by
                professional astronomers. Bortle class 9 is found in the heart of cities suffering from terrible light pollution.
                The Bortle class field is for your information only. The <i>Calculate!</i> tool does not require it so you can leave it empty if
                you wish.
            </p>
            <p></p>
        </div>
    
        <h2 class="subtitle is-5">Sky Brightness</h2>
        <div class="content">
            <p>
                <i>Sky Brightness</i> is required. Bortle class and it are directly related. If you want to see how, you can visit the
                <a href="https://www.cleardarksky.com/lp/NYCNYlp.html?Mn=astrophotography" target="_blank">New York City Light Pollution Map</a>
                courtesy of <b>cleardarksky.com</b>. Scroll down to the table that relates Bortle class to Sky Brightness. This is helpful
                if you happen to know your Bortle class. You can simply lookup the Sky Brightness and use it.
            </p>
            <p>
                If you don't know your Bortle class then you can use <a href="https://www.lightpollutionmap.info" target="_blank">this fine tool</a>
                courtesy of <b>lightpollutionmap.info</b>. It supplies a world map that you can zoom and pan to find your observatory's location.
                Once you have arrived click the tools icon, the one having the tooltip: "Toggle the extended toolbar". From there you can click
                the cross icon. Doing that changes the mouse pointer from a finger to a cross. Place the cross on the desired location and then left-mouse
                click. A window pops that displays some useful information. One such piece is your Bortle class and the other is <i>SQM</i> which
                stands for Sky Quality Meter. SQM happens to have the same units of measurement as our required <i>Sky Brightness</i>. Jot that value down
                and enter it into our web application's Sky Brightness field.
            </p>
            <p>
                For the truly adventurous with deep pockets you can invest in a Sky Quality Meter from
                <a href="http://www.unihedron.com/" target="blank">Unihedron</a>. There are instructions for permanently installing it at your
                observatory site. There is also a version that is network-ready. You can join a federation of citizen scientists and configure your
                meter to upload daily measurements to a central database that you can query.
            </p>
            <p>
                You may have noticed that the units of <i>Sky Brightness</i> are the same as a Target's <i>Surface Brightness</i>: magnitudes
                per square arc-seconds. This is an important characteristic used by the <i>Calculate!</i> tool.
            </p>
            <p></p>
        </div>
    </div>
</section>

<section class="section" *ngIf="section == 'all-sections' || section == 'calculate'">
    <div class="container">
        <h1 class="title is-4">Calculate!</h1>

        <div class="content">
            <p>
                Now is the time to have some fun. Once you have defined at least one target, telescope. camera, and observatory, you
                can begin to ask questions like "How much integration time do I need to win Image-Of-The-Day?"
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">Step 1: Select Inputs</h2>
        <div class="content">
            <p>
                The tool presents you with four dropdown lists labeled targets, telescopes, cameras, and observatories.
                The first item in each list reminds you to "Choose one...". If you open a list and nothing more is shown then
                you can not proceed to step 2.
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">Step 2: Choose a Calculation</h2>
        <div class="content">
            <p>
                <i>Calculate total signal-to-noise of stack given the total integration time and single sub exposure</i>:
                This is useful in several ways. Firstly, you can clearly see what effect total time and exposure have on
                the total signal-to-noise ratio. Secondly, in practice you might only have a two hour time window for imaging
                tonight, and you want to know what signal-to-noise ratio you can expect to achieve.
            </p>
            <p>
                <i>Calculate total integration time given the total signal-to-noise of stack and single sub exposure</i>:
                This is huge. With experience you might discover that in order to achieve top-tier results that you need a
                minimum total signal-to-noise ratio of, say, 25. The hard truth may be revealed that you need something on
                the order of 20+ hours of total integration time which might take 5+ nights to achieve. Straight away you
                can decide if this target is too faint for your site, so either skip this target or seek out darker skies.
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">Step 3: View Results</h2>
        <div class="content">
            <p>
                Depending on the calculation type you chose in the previous step the tool will display approprtiate input
                controls for you to manipulate. Below that it will display the results of the calculation.
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">Tips and Tricks</h2>
        <div class="content">
            <p>
                While at step 3 you can also manipulate the controls discussed in step 1. The tool will maintain the inputs
                you selected in steps 2 and 3. Just use caution that you don't accidentally select "Choose one...". This will
                reset the inputs to their initial state.
            </p>
            <p></p>
        </div>
    </div>
</section>

<section class="section" *ngIf="section == 'all-sections' || section == 'open-star-clusters'">
    <div class="container">
        <h1 class="title is-4">Advanced Technique: Open Star Clusters</h1>

        <div class="content">
            <p>
                When imaging star clusters the stars themselves are the topic and focus of attention but with
                galaxies the surrounding stars can be allowed to saturate.
                There is a lot of dark space between stars that will skew a conventional surface brightness
                calculation. You need a different technique.
            </p>
            <p></p>
        </div>

        <h2 class="subtitle is-5">The Technique</h2>
        <div class="content">
            <p>
                <b>Step 1</b>: Calculate the dynamic range of your camera. There is a formula for this:
                <i>2.5 * LOG10 (Full Well Depth / Read Noise)</i>. For example the Full Well Depth (FWD) of my
                camera is 13400 electrons and the Read Noise is 5.3 electrons. Therefore the dynamic range is
                8.5 magnitudes.
            </p>
            <p>
                <b>Step 2</b>: Use planetarium software to find the magnitude of the brightest star in the
                cluster. For example lets say it is magnitude 7.5.
            </p>
            <p>
                <b>Step 3</b>: Add the dynamic range of your camera and the magnitude of the brightest star.
                In our example it is 8.5 + 7.5 = 16.0
            </p>
            <p>
                <b>Step 4</b>: Decide what type of seeing conditions you typically have at your observatory.
                At my home site the seeing conditions are typically poor so I use a value of 4.5 arc-seconds.
                If you are blessed with Good seeing then use 1.5 arc-seconds. For OK seeing use 3 arc-seconds.
                It is best to be conservative when choosing a number. If you base your calculations on Poor seeing
                but get a night of better seeing conditions then you will end up with a higher quality image.
            </p>
            <p>
                <b>Step 5</b>: Calculate the surface brightness of the faintest star given your seeing conditions.
                Remember what we are trying to achieve: we want to take advantage of the full dynamic range of our
                camera. Our example is a magnitude 16.0 star which is the faintest we can detect while not saturating
                the brightest stars in the cluster. Your particular situation will vary. To do this, go to the Targets
                editor and create a new Target. Give it the name "Magnitude 16.0 star (Poor seeing)". Next open the
                Surface Brightness Calculator by clicking the SHOW CALCULATOR button. Type "16" into the Magnitude
                input control. Pull out your smartphone's calculator and divide your seeing conditions by 60. In my
                case it is 4.5 arc-seconds / 60 which is 0.075 arc-minutes. Type "0.075" into both the Major and Minor
                Axis input controls. The Surface Brightness Calculator says that the answer is 19.0 magnitudes per
                square arc-second. Copy and paste that number into the Surface Brightness field of your Target and
                then save it.
            </p>
            <p>
                <b>Step 6</b>: At your telescope take some sample exposures of the cluster. Find the exposure
                that puts the brightest star in the cluster just below the saturation point. (There are a number
                of ways to measure the peak pixel value of a star depending on your capture software. I have the
                choice of using FITS Viewer in KStars/Ekos, or I can use Siril, or FITS Liberator. Just be sure
                that you are measuring the peak pixel of that specific star and not the entire frame.) At this
                moment you might just want to start capturing frames while you proceed to the next step.
            </p>
            <p>
                <b>Step 7</b>: Use the <i>Calculate!</i> tool to determine the total integration time and
                number of frames needed to achieve a total signal-to-noise ratio of 40. Recently I captured
                the beautiful dual star cluster M35 + NGC 2158 in Gemini. I discovered that I needed 15-second
                exposures in order to keep the brightest stars from saturating. A couple hours later I had a high
                quality, low noise stacked final image that clearly showed magnitude 16.0 stars.
            </p>
            <p>
                That's it!
            </p>
            <p></p>
        </div>
    </div>
</section>
